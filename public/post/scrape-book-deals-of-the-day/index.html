<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>scrape book deals of the day</title>
  <meta property="og:title" content="scrape book deals of the day" />
  <meta name="twitter:title" content="scrape book deals of the day" />
  <meta name="description" content="Often I come across some websites that have free e-book deals each day or once in a while. Sometimes I’m lucky and it’s currently some title or topic I am interested in, but usually it’s some topic I have absolutely no clue about (“Learning Linux Binary Analysis”).
However, you never know! Tomorrow or maybe in 18 days time there might be something on exactly the topic you are curious about!">
  <meta property="og:description" content="Often I come across some websites that have free e-book deals each day or once in a while. Sometimes I’m lucky and it’s currently some title or topic I am interested in, but usually it’s some topic I have absolutely no clue about (“Learning Linux Binary Analysis”).
However, you never know! Tomorrow or maybe in 18 days time there might be something on exactly the topic you are curious about!">
  <meta name="twitter:description" content="Often I come across some websites that have free e-book deals each day or once in a while. Sometimes I’m lucky and it’s currently some title or topic I am interested in, but usually it’s some topic I …">
  <meta name="author" content=""/>
  <link href='/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/img/escher_circle_limit_3.png" />
  <meta name="twitter:image" content="/img/escher_circle_limit_3.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@leleedavid" />
  <meta name="twitter:creator" content="@leleedavid" />
  <meta property="og:url" content="/post/scrape-book-deals-of-the-day/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="David Jankoski" />

  <meta name="generator" content="Hugo 0.25.1" />
  <link rel="canonical" href="/post/scrape-book-deals-of-the-day/" />
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="David Jankoski">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="/css/pygment_highlights.css" />
  <link rel="stylesheet" href="/css/highlight.min.css" />




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">David Jankoski</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="CV" href="/page/cv/">CV</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="David Jankoski" href="/">
            <img class="avatar-img" src="/img/escher_circle_limit_3.png" alt="David Jankoski" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>scrape book deals of the day</h1>
                
                
                  <span class="post-meta">
  Posted on August 10, 2017
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Often I come across some websites that have free e-book deals each day or once in a while. Sometimes I’m lucky and it’s currently some title or topic I am interested in, but usually it’s some topic I have absolutely no clue about (“Learning Linux Binary Analysis”).<br />
However, you never know! Tomorrow or maybe in 18 days time there might be something on exactly the topic you are curious about!</p>
<p>Usually (at least for me) these websites end up in some dark corner in the bookmarks - maybe I would go back and check the deal for a couple of days in a row, but then I would slowly forget about it and every now and then remember to check back in on some free learning materials.<br />
So I thought to piece together a small scraper that would get the book deal of the day and push a desktop notification when i log in. That way I could stay informed and never miss the chance to obtain some nice material on a topic of interest.</p>
<div id="packt-learning-website" class="section level1">
<h1>Packt Learning Website</h1>
<p><a href="https://www.packtpub.com/">Packt</a> is a website that offers learning materials on all kinds of IT related things - from general programming language textbooks to highly specialised titles. Each day there is a different book offered as a book-of-the-day deal for <a href="https://www.packtpub.com/packt/offers/free-learning">free</a>!<br />
In order to get the book one just needs to head over to their website and make a free account which entitles then the free download (availabe in a couple of different formats as well). I have used this opportuntity to get my hands on some books about 3D Printing, Git essentials as well as the obligatory Javascript data structures and algorithms :–).</p>
<p>Alright time to get the tools out…</p>
<pre class="r"><code># httr &amp; rvest scraping tools
library(&quot;tidyverse&quot;)
# for reading and writing images 
library(&quot;magick&quot;)
# for pushing a notification to the desktop
library(&quot;notifier&quot;)

# packt url for free learning deal of the day
packt &lt;- &quot;https://www.packtpub.com/packt/offers/free-learning&quot;</code></pre>
<div id="scraping-the-book-deal" class="section level2">
<h2>Scraping the book deal</h2>
<p>Inspecting the html of the page we notice that we are interested in the “<code>dotd-title</code>” and the “<code>dotd-main-book-image float-left</code>” <code>div</code>’s.<br />
<img src="/home/david-vogelstruis/projects/website/content/img/packt_html_snap.png" /></p>
<p>We’ll pull out the book title and the cover image.</p>
<ol style="list-style-type: decimal">
<li><p>try img/packt_html_snap.png <img src="img/packt_html_snap.png" /></p></li>
<li>try content/img/packt_html_snap.png <img src="content/img/packt_html_snap.png" /><br />
</li>
<li><p>try ~/content/img/packt_html_snap.png <img src="~/content/img/packt_html_snap.png" /></p></li>
</ol>
<pre class="r"><code># Scrape book deal of the day -----

# read in html
parse_site &lt;-
  packt %&gt;%
  httr::GET() %&gt;%
  httr::content()

# extract the title of the deal of
# the day and remove any extra
# spacing and indentation around it
book_deal &lt;-
  parse_site %&gt;%
  rvest::html_nodes(&quot;.dotd-title&quot;) %&gt;%
  rvest::html_text() %&gt;%
  stringr::str_replace_all(&quot;\\n*\\t*&quot;, &quot;&quot;)

# scrape the image for the book

# read in the img string
img_link &lt;-
  parse_site %&gt;%
  rvest::html_nodes(&quot;.dotd-main-book-image&quot;) %&gt;%
  rvest::html_node(&quot;img&quot;) %&gt;%
  rvest::html_attr(&quot;src&quot;) %&gt;%
  stringr::str_replace_all(&quot; &quot;, &quot;%20&quot;)</code></pre>
</div>
<div id="push-notification-to-desktop" class="section level2">
<h2>Push notification to desktop</h2>
<p>Gabor Csardi’s notifer package or alternatively using toast on win or notify-send on linux. Note that notifier is currently broken so resort to version 1.0.0</p>
</div>
<div id="schedule-script-on-logon" class="section level2">
<h2>Schedule script on logon</h2>
<p>Useful packages taskscheduleR and cron - however on win there is LOGON opt but cron on linux offers only datetime triggers (or i couldn’t figure it out). therefore scheduled it as a bash script.</p>
</div>
<div id="future-to-dos" class="section level2">
<h2>Future to do’s</h2>
<ul>
<li><p>For the analysis part need to find a way how to automatically detect the keyword that stands for a certain language/technology from the book title. I’m sure there is somewhere out there a nice list of all possible languages and technologies under the sun that could be matched against.</p></li>
<li><p>A possible adaptation for the purpose of this scraper would be to just store some keywords that one is interested in like e.g. “machine learning”, “data structures c” and fuzzy-match against it in order to signal an offer tailored to one’s interests.</p></li>
</ul>
</div>
</div>

      </article>

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="/post/thumbs-up-blogdown/" data-toggle="tooltip" data-placement="top" title="thumbs up blogdown!">&larr; Previous Post</a>
          </li>
        
        
      </ul>

      
        
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "davidjankoski" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:leledavid@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/david-jankoski" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/leleedavid" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/david-jankoski-022a9aa7" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://stackoverflow.com/users/4950019/davidski" title="StackOverflow">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="/index.xml" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="/">David Jankoski</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Built with <a href="https://github.com/rstudio/blogdown">blogdown</a> and hosted on <a href="https://www.netlify.com">Netlify</a> <br/> <a href="http://gohugo.io">Hugo v0.25.1</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>




  </body>
</html>

